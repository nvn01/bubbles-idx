export interface BubbleStyle {
    positiveColor: string;
    negativeColor: string;
    positiveGlow: string;
    negativeGlow: string;
    fillColor: string;
    textColor: string;
    borderWidth: number;
    glowIntensity: number;
}

export interface Theme {
    id: string;
    name: string;
    // Background colors
    background: string;
    backgroundGradient?: string;
    backgroundPattern?: string; // CSS pattern for grid/dots etc
    // Header/Sidebar colors
    headerBg: string;
    headerBorder: string;
    sidebarBg: string;
    sidebarBorder: string;
    // Text colors
    textPrimary: string;
    textSecondary: string;
    textMuted: string;
    // Accent colors
    accent: string;
    accentHover: string;
    // Bubble styling
    bubble: BubbleStyle;
    // Input styling
    inputBg: string;
    inputBorder: string;
    inputFocus: string;
}

export const themes: Theme[] = [
    {
        id: "default",
        name: "Bubbles Dark",
        background: "#08080a",
        backgroundGradient: "linear-gradient(150deg, #08080a 0%, #101214 40%, #161a1c 100%)",
        headerBg: "#08080a",
        headerBorder: "#282c30",
        sidebarBg: "#050608",
        sidebarBorder: "#282c30",
        textPrimary: "#e8eaec",
        textSecondary: "#94a0ac",
        textMuted: "#5a6874",
        accent: "#a3e635",
        accentHover: "#84cc16",
        bubble: {
            positiveColor: "#22c55e",
            negativeColor: "#ef4444",
            positiveGlow: "rgba(34, 197, 94, 0.45)",
            negativeGlow: "rgba(239, 68, 68, 0.45)",
            fillColor: "#101214",
            textColor: "#e8eaec",
            borderWidth: 2,
            glowIntensity: 0.42,
        },
        inputBg: "#101214",
        inputBorder: "#282c30",
        inputFocus: "#a3e635",
    },
    // BUBBLES LIGHT - Light theme with neutral aesthetic
    {
        id: "bubbles-light",
        name: "Bubbles Light",
        background: "#fafafa",
        backgroundGradient: "linear-gradient(180deg, #fafafa 0%, #f5f5f5 100%)",
        headerBg: "#fafafa",
        headerBorder: "#e5e5e5",
        sidebarBg: "#ffffff",
        sidebarBorder: "#e5e5e5",
        textPrimary: "#1a1a1a",
        textSecondary: "#525252",
        textMuted: "#a3a3a3",
        accent: "#f97316",
        accentHover: "#ea580c",
        bubble: {
            positiveColor: "#22a06b",
            negativeColor: "#cf4545",
            positiveGlow: "rgba(34, 160, 107, 0.25)",
            negativeGlow: "rgba(207, 69, 69, 0.25)",
            fillColor: "#f5f5f5",
            textColor: "#1a1a1a",
            borderWidth: 2,
            glowIntensity: 0.2,
        },
        inputBg: "#ffffff",
        inputBorder: "#e5e5e5",
        inputFocus: "#f97316",
    },
    // DESIGNER-INSPIRED THEMES
    {
        id: "moss-garden",
        name: "Moss Garden",
        background: "#0f1a14",
        backgroundGradient: "linear-gradient(180deg, #0f1a14 0%, #162820 50%, #1d3528 100%)",
        headerBg: "#0f1a14",
        headerBorder: "#2d4a38",
        sidebarBg: "#0c1510",
        sidebarBorder: "#254030",
        textPrimary: "#d8ece0",
        textSecondary: "#8bc4a0",
        textMuted: "#5a9a70",
        accent: "#6ecf8e",
        accentHover: "#8be0a6",
        bubble: {
            positiveColor: "#7dd498",
            negativeColor: "#e07060",
            positiveGlow: "rgba(125, 212, 152, 0.3)",
            negativeGlow: "rgba(224, 112, 96, 0.3)",
            fillColor: "#162820",
            textColor: "#d8ece0",
            borderWidth: 2,
            glowIntensity: 0.3,
        },
        inputBg: "#162820",
        inputBorder: "#2d4a38",
        inputFocus: "#6ecf8e",
    },
    {
        id: "monochrome",
        name: "Monochrome",
        background: "#0e0e0e",
        backgroundGradient: "linear-gradient(180deg, #0e0e0e 0%, #1a1a1a 100%)",
        headerBg: "#0e0e0e",
        headerBorder: "#2a2a2a",
        sidebarBg: "#0a0a0a",
        sidebarBorder: "#222222",
        textPrimary: "#ffffff",
        textSecondary: "#b0b0b0",
        textMuted: "#707070",
        accent: "#ffffff",
        accentHover: "#e0e0e0",
        bubble: {
            positiveColor: "#e0e0e0",
            negativeColor: "#808080",
            positiveGlow: "rgba(255, 255, 255, 0.15)",
            negativeGlow: "rgba(128, 128, 128, 0.15)",
            fillColor: "#1a1a1a",
            textColor: "#ffffff",
            borderWidth: 1,
            glowIntensity: 0.15,
        },
        inputBg: "#1a1a1a",
        inputBorder: "#2a2a2a",
        inputFocus: "#ffffff",
    },
    {
        id: "golden",
        name: "Golden Hour",
        background: "#1a1510",
        backgroundGradient: "linear-gradient(180deg, #1a1510 0%, #2d2418 40%, #3d3020 100%)",
        headerBg: "#1a1510",
        headerBorder: "#d4a574",
        sidebarBg: "#0f0d0a",
        sidebarBorder: "#b8956e",
        textPrimary: "#f5e6d3",
        textSecondary: "#d4a574",
        textMuted: "#8b7355",
        accent: "#e6b980",
        accentHover: "#d4a574",
        bubble: {
            positiveColor: "#c9a86c",
            negativeColor: "#a05252",
            positiveGlow: "rgba(201, 168, 108, 0.4)",
            negativeGlow: "rgba(160, 82, 82, 0.4)",
            fillColor: "#2a2318",
            textColor: "#f5e6d3",
            borderWidth: 3,
            glowIntensity: 0.4,
        },
        inputBg: "#2d2418",
        inputBorder: "#8b7355",
        inputFocus: "#e6b980",
    },
    {
        id: "deep-sea",
        name: "Deep Sea",
        background: "#0a1628",
        backgroundGradient: "linear-gradient(180deg, #0a1628 0%, #0d1f3c 40%, #102a50 100%)",
        headerBg: "#0a1628",
        headerBorder: "#1e4976",
        sidebarBg: "#071019",
        sidebarBorder: "#1e4976",
        textPrimary: "#c8dce8",
        textSecondary: "#6a9ec9",
        textMuted: "#3d6a8a",
        accent: "#4fc3f7",
        accentHover: "#29b6f6",
        bubble: {
            positiveColor: "#26a69a",
            negativeColor: "#ef5350",
            positiveGlow: "rgba(38, 166, 154, 0.45)",
            negativeGlow: "rgba(239, 83, 80, 0.45)",
            fillColor: "#0d1f3c",
            textColor: "#c8dce8",
            borderWidth: 3,
            glowIntensity: 0.5,
        },
        inputBg: "#0d1f3c",
        inputBorder: "#1e4976",
        inputFocus: "#4fc3f7",
    },
    {
        id: "synthwave",
        name: "Synthwave",
        background: "#0d0221",
        backgroundGradient: "linear-gradient(180deg, #0d0221 0%, #1a0533 40%, #2d1b4e 100%)",
        headerBg: "#0d0221",
        headerBorder: "#ff00ff",
        sidebarBg: "#090118",
        sidebarBorder: "#00ffff",
        textPrimary: "#ff6ec7",
        textSecondary: "#00ffff",
        textMuted: "#9d4edd",
        accent: "#ff00ff",
        accentHover: "#ff6ec7",
        bubble: {
            positiveColor: "#00ffff",
            negativeColor: "#ff00ff",
            positiveGlow: "rgba(0, 255, 255, 0.5)",
            negativeGlow: "rgba(255, 0, 255, 0.5)",
            fillColor: "#1a0533",
            textColor: "#ffffff",
            borderWidth: 2,
            glowIntensity: 0.6,
        },
        inputBg: "#1a0533",
        inputBorder: "#9d4edd",
        inputFocus: "#ff00ff",
    },
    {
        id: "mint-breeze",
        name: "Mint Breeze",
        background: "#eef6f3",
        backgroundGradient: "linear-gradient(145deg, #eef6f3 0%, #e0f0ea 30%, #d2eae0 60%, #c8e4d8 100%)",
        headerBg: "#eef6f3",
        headerBorder: "#a0d4be",
        sidebarBg: "#f4faf7",
        sidebarBorder: "#a0d4be",
        textPrimary: "#162e24",
        textSecondary: "#3a6a52",
        textMuted: "#7aaa94",
        accent: "#18a87a",
        accentHover: "#14906a",
        bubble: {
            positiveColor: "#12a06a",
            negativeColor: "#d44050",
            positiveGlow: "rgba(18, 160, 106, 0.22)",
            negativeGlow: "rgba(212, 64, 80, 0.22)",
            fillColor: "#dff0e8",
            textColor: "#162e24",
            borderWidth: 2,
            glowIntensity: 0.2,
        },
        inputBg: "#f4faf7",
        inputBorder: "#a0d4be",
        inputFocus: "#18a87a",
    },
    {
        id: "lava",
        name: "Volcanic",
        background: "#1a0a0a",
        backgroundGradient: "linear-gradient(180deg, #1a0a0a 0%, #2d1010 40%, #401515 100%)",
        headerBg: "#1a0a0a",
        headerBorder: "#8b0000",
        sidebarBg: "#120707",
        sidebarBorder: "#8b0000",
        textPrimary: "#ffd4a3",
        textSecondary: "#ff6b35",
        textMuted: "#994422",
        accent: "#ff4500",
        accentHover: "#ff6347",
        bubble: {
            positiveColor: "#ff6b35",
            negativeColor: "#8b0000",
            positiveGlow: "rgba(255, 107, 53, 0.45)",
            negativeGlow: "rgba(139, 0, 0, 0.45)",
            fillColor: "#2d1010",
            textColor: "#ffd4a3",
            borderWidth: 3,
            glowIntensity: 0.5,
        },
        inputBg: "#2d1010",
        inputBorder: "#8b0000",
        inputFocus: "#ff4500",
    },
    {
        id: "cloud-nine",
        name: "Cloud Nine",
        background: "#f0f4f8",
        backgroundGradient: "linear-gradient(145deg, #f0f4f8 0%, #e4eaf2 30%, #dae2ee 60%, #d0daea 100%)",
        headerBg: "#f0f4f8",
        headerBorder: "#b0c4de",
        sidebarBg: "#f6f8fc",
        sidebarBorder: "#b0c4de",
        textPrimary: "#1a2540",
        textSecondary: "#4a5a78",
        textMuted: "#8898b4",
        accent: "#4a7cf5",
        accentHover: "#3366e0",
        bubble: {
            positiveColor: "#28a06e",
            negativeColor: "#d44848",
            positiveGlow: "rgba(40, 160, 110, 0.2)",
            negativeGlow: "rgba(212, 72, 72, 0.2)",
            fillColor: "#e6ecf4",
            textColor: "#1a2540",
            borderWidth: 2,
            glowIntensity: 0.18,
        },
        id: "terminal",
        name: "Terminal",
        background: "#0c0c0c",
        backgroundGradient: "linear-gradient(180deg, #0c0c0c 0%, #0a0a0a 100%)",
        headerBg: "#0c0c0c",
        headerBorder: "#00ff00",
        sidebarBg: "#080808",
        sidebarBorder: "#00ff00",
        textPrimary: "#00ff00",
        textSecondary: "#00cc00",
        textMuted: "#008800",
        accent: "#00ff00",
        accentHover: "#33ff33",
        bubble: {
            positiveColor: "#00ff00",
            negativeColor: "#ff0000",
            positiveGlow: "rgba(0, 255, 0, 0.4)",
            negativeGlow: "rgba(255, 0, 0, 0.4)",
            fillColor: "#0a0a0a",
            textColor: "#00ff00",
            borderWidth: 1,
            glowIntensity: 0.45,
        },
        inputBg: "#0a0a0a",
        inputBorder: "#00ff00",
        inputFocus: "#00ff00",
    },
    {
        id: "sunset",
        name: "Sunset Beach",
        background: "#1a1520",
        backgroundGradient: "linear-gradient(180deg, #1a1520 0%, #2d1f35 30%, #45283c 60%, #5c3d4a 100%)",
        headerBg: "#1a1520",
        headerBorder: "#ff7f50",
        sidebarBg: "#150f18",
        sidebarBorder: "#ff6b6b",
        textPrimary: "#ffe4c4",
        textSecondary: "#ff9f80",
        textMuted: "#b87a6a",
        accent: "#ff7f50",
        accentHover: "#ff6347",
        bubble: {
            positiveColor: "#ffa07a",
            negativeColor: "#cd5c5c",
            positiveGlow: "rgba(255, 160, 122, 0.4)",
            negativeGlow: "rgba(205, 92, 92, 0.4)",
            fillColor: "#2d1f35",
            textColor: "#ffe4c4",
            borderWidth: 2,
            glowIntensity: 0.4,
        },
        inputBg: "#2d1f35",
        inputBorder: "#b87a6a",
        inputFocus: "#ff7f50",
    },
    // NEW DARK THEMES
    {
        id: "emerald-night",
        name: "Emerald Night",
        background: "#0a1a14",
        backgroundGradient: "linear-gradient(180deg, #0a1a14 0%, #0f2920 40%, #143830 100%)",
        headerBg: "#0a1a14",
        headerBorder: "#1f4a38",
        sidebarBg: "#071410",
        sidebarBorder: "#1f4a38",
        textPrimary: "#d4f5e9",
        textSecondary: "#6ee7b7",
        textMuted: "#34d399",
        accent: "#10b981",
        accentHover: "#059669",
        bubble: {
            positiveColor: "#34d399",
            negativeColor: "#f87171",
            positiveGlow: "rgba(52, 211, 153, 0.4)",
            negativeGlow: "rgba(248, 113, 113, 0.4)",
            fillColor: "#0f2920",
            textColor: "#d4f5e9",
            borderWidth: 2,
            glowIntensity: 0.4,
        },
        inputBg: "#0f2920",
        inputBorder: "#1f4a38",
        inputFocus: "#10b981",
    },
    {
        id: "rose-gold",
        name: "Rose Gold",
        background: "#1a1215",
        backgroundGradient: "linear-gradient(180deg, #1a1215 0%, #2a1f22 40%, #3a2a2e 100%)",
        headerBg: "#1a1215",
        headerBorder: "#5a4048",
        sidebarBg: "#140e10",
        sidebarBorder: "#5a4048",
        textPrimary: "#fce4ec",
        textSecondary: "#f8bbd9",
        textMuted: "#c48b9f",
        accent: "#f472b6",
        accentHover: "#ec4899",
        bubble: {
            positiveColor: "#4ade80",
            negativeColor: "#fb7185",
            positiveGlow: "rgba(74, 222, 128, 0.35)",
            negativeGlow: "rgba(251, 113, 133, 0.35)",
            fillColor: "#2a1f22",
            textColor: "#fce4ec",
            borderWidth: 2,
            glowIntensity: 0.35,
        },
        inputBg: "#2a1f22",
        inputBorder: "#5a4048",
        inputFocus: "#f472b6",
    },
    // PREMIUM THEMES
    {
        id: "obsidian-flame",
        name: "Obsidian Flame",
        background: "#080404",
        backgroundGradient: "linear-gradient(160deg, #080404 0%, #120808 30%, #1a0c0a 60%, #140a08 100%)",
        headerBg: "#080404",
        headerBorder: "#3d1810",
        sidebarBg: "#060303",
        sidebarBorder: "#3d1810",
        textPrimary: "#f8e8e0",
        textSecondary: "#e8844c",
        textMuted: "#8a4a2a",
        accent: "#ff6420",
        accentHover: "#e85818",
        bubble: {
            positiveColor: "#f0a040",
            negativeColor: "#e02020",
            positiveGlow: "rgba(240, 160, 64, 0.5)",
            negativeGlow: "rgba(224, 32, 32, 0.55)",
            fillColor: "#140a08",
            textColor: "#f8e8e0",
            borderWidth: 2,
            glowIntensity: 0.55,
        },
        inputBg: "#140a08",
        inputBorder: "#3d1810",
        inputFocus: "#ff6420",
    },
    {
        id: "lavender-mist",
        name: "Lavender Mist",
        background: "#f4f0f8",
        backgroundGradient: "linear-gradient(160deg, #f4f0f8 0%, #e8e0f0 40%, #ddd4ea 100%)",
        headerBg: "#f4f0f8",
        headerBorder: "#c4b5d8",
        sidebarBg: "#f8f4fc",
        sidebarBorder: "#c4b5d8",
        textPrimary: "#1e1530",
        textSecondary: "#584a72",
        textMuted: "#8e7eaa",
        accent: "#7c5cbf",
        accentHover: "#6a4bab",
        bubble: {
            positiveColor: "#2ea88a",
            negativeColor: "#d44a6a",
            positiveGlow: "rgba(46, 168, 138, 0.22)",
            negativeGlow: "rgba(212, 74, 106, 0.22)",
            fillColor: "#ede6f5",
            textColor: "#1e1530",
            borderWidth: 2,
            glowIntensity: 0.2,
        },
        inputBg: "#f8f4fc",
        inputBorder: "#c4b5d8",
        inputFocus: "#7c5cbf",
    },
    // WILDCARD DARK THEME
    {
        id: "midnight-aurora",
        name: "Midnight Aurora",
        background: "#060d14",
        backgroundGradient: "linear-gradient(160deg, #060d14 0%, #0a1a28 35%, #0d2230 60%, #0a2a2a 100%)",
        headerBg: "#060d14",
        headerBorder: "#1a4060",
        sidebarBg: "#040a10",
        sidebarBorder: "#164050",
        textPrimary: "#d0f0f8",
        textSecondary: "#58c8d8",
        textMuted: "#2e8898",
        accent: "#00e5c8",
        accentHover: "#00cca8",
        bubble: {
            positiveColor: "#00e5c8",
            negativeColor: "#ff4080",
            positiveGlow: "rgba(0, 229, 200, 0.5)",
            negativeGlow: "rgba(255, 64, 128, 0.5)",
            fillColor: "#0a1a28",
            textColor: "#d0f0f8",
            borderWidth: 2,
            glowIntensity: 0.55,
        },
        inputBg: "#0a1a28",
        inputBorder: "#1a4060",
        inputFocus: "#00e5c8",
    },
];

// Default theme for TypeScript strict mode
const defaultTheme = themes[0]!;

export function getTheme(id: string): Theme {
    return themes.find((t) => t.id === id) ?? defaultTheme;
}

export function getNextTheme(currentId: string): Theme {
    const currentIndex = themes.findIndex((t) => t.id === currentId);
    // If theme not found, start from beginning
    if (currentIndex === -1) {
        return themes[0] ?? defaultTheme;
    }
    const nextIndex = (currentIndex + 1) % themes.length;
    return themes[nextIndex] ?? defaultTheme;
}

export function getPrevTheme(currentId: string): Theme {
    const currentIndex = themes.findIndex((t) => t.id === currentId);
    // If theme not found, start from beginning
    if (currentIndex === -1) {
        return themes[0] ?? defaultTheme;
    }
    const prevIndex = currentIndex === 0 ? themes.length - 1 : currentIndex - 1;
    return themes[prevIndex] ?? defaultTheme;
}
